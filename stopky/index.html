<!DOCTYPE html>
<html>
<head>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f3f4f6;
        }
        
        .container {
            background-color: white;
            padding: min(5vw, 2rem);
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: min(95%, max-content);
            min-width: min(95%, 300px);
            margin: 1rem;
        }
        
        .stopwatch {
            font-size: clamp(2rem, 10vw, 8rem);
            font-family: monospace;
            font-weight: bold;
            margin: 0.5em 0;
            line-height: 1.2;
            white-space: nowrap;
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin: 1em 0;
        }
        
        button {
            padding: 0.5em 1em;
            font-size: clamp(1rem, 4vw, 2rem);
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            color: white;
            min-width: min(45%, 200px);
            transition: transform 0.1s ease-in-out;
        }
        
        button:active {
            transform: scale(0.98);
        }
        
        #startStop {
            background-color: #3b82f6;
        }
        
        #startStop:hover {
            background-color: #2563eb;
        }
        
        #reset {
            background-color: #ef4444;
        }
        
        #reset:hover {
            background-color: #dc2626;
        }
        
        .current-time {
            font-size: clamp(1.5rem, 5vw, 3rem);
            font-family: monospace;
            color: #4b5563;
            margin-top: 0.5em;
        }

        @media (max-width: 480px) {
            .container {
                padding: 1rem;
            }
            
            button {
                width: 100%;
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="stopwatch" id="display">00:00:00.00</div>
        <div class="controls">
            <button id="startStop">Start</button>
            <button id="reset">Reset</button>
        </div>
        <div class="current-time" id="currentTime">00:00:00</div>
    </div>

    <script>
        let startTime;
        let elapsedTime = 0;
        let timerInterval;
        let isRunning = false;

        const display = document.getElementById('display');
        const startStopButton = document.getElementById('startStop');
        const resetButton = document.getElementById('reset');
        const currentTimeDisplay = document.getElementById('currentTime');

        function startStop() {
            if (isRunning) {
                // Zastavit stopky
                clearInterval(timerInterval);
                elapsedTime += Date.now() - startTime;
                startStopButton.textContent = 'Start';
            } else {
                // Spustit stopky
                startTime = Date.now() - elapsedTime;
                timerInterval = setInterval(updateDisplay, 10);
                startStopButton.textContent = 'Stop';
            }
            isRunning = !isRunning;
        }

        function reset() {
            clearInterval(timerInterval);
            elapsedTime = 0;
            isRunning = false;
            startStopButton.textContent = 'Start';
            display.textContent = '00:00:00.00';
        }

        function updateDisplay() {
            const currentElapsed = Date.now() - startTime;
            const hours = Math.floor(currentElapsed / 3600000);
            const minutes = Math.floor((currentElapsed % 3600000) / 60000);
            const seconds = Math.floor((currentElapsed % 60000) / 1000);
            const milliseconds = Math.floor((currentElapsed % 1000) / 10);

            display.textContent = 
                `${hours.toString().padStart(2, '0')}:` +
                `${minutes.toString().padStart(2, '0')}:` +
                `${seconds.toString().padStart(2, '0')}.` +
                `${milliseconds.toString().padStart(2, '0')}`;
        }

        function updateCurrentTime() {
            const now = new Date();
            currentTimeDisplay.textContent = now.toLocaleTimeString();
        }

        // Event listeners
        startStopButton.addEventListener('click', startStop);
        resetButton.addEventListener('click', reset);

        // Aktualizace současného času každou sekundu
        setInterval(updateCurrentTime, 1000);
        updateCurrentTime(); // První aktualizace
    </script>
</body>
</html>